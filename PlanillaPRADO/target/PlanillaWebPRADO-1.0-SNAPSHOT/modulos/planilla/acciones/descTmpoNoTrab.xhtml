<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.prime.com.tr/ui"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:i="http://java.sun.com/jsf/composite/components/presentacion"
                template="editarSolicitud.xhtml">
    <ui:define name="panelAccionesSolicitud" >
        <p:tab title="Otras acciones">
            <h:panelGrid columns="1">
                <p:commandLink styleClass="opcionMenu textoNormal" action="#{desctoHorasNoLaboradasEdit.regresar}" onmouseover="this.className = 'opcionMenu textonegrita';" onmouseout="this.className = 'opcionMenu textonormal';" ajax="false">
                    <p:graphicImage value="/resources/iconos/arrow-left.png"/>
                    <h:outputText value="Acciones de personal" styleClass="espacioTexto"/>
                </p:commandLink>
            </h:panelGrid>
        </p:tab>
    </ui:define>
    <ui:define name="detalleSolicitud">
        <table border="0" width="100%" cellpadding="2"  >
            <!--tr>
                <td width="12%" >
                    <i:etiquetaRequerido value="Fecha inicio" styleClass="requerido" />
                </td>
                <td width="22%" >
                    <p:calendar id="spFecInicial" showOn="button" pattern="dd/MM/yyyy" value="# {desctoHorasNoLaboradasEdit.fechaInicial}" selectListener="# {desctoHorasNoLaboradasEdit.handleFechaInicial}" onSelectUpdate="principalForm:txtDias" />
                </td>
                <td/>
                <td width="12%" >
                    <i:etiquetaRequerido value="Fecha fin" styleClass="requerido" />
                </td>
                <td>
                    <p:calendar id="spFecFinal" showOn="button" pattern="dd/MM/yyyy" value="# {desctoHorasNoLaboradasEdit.fechaFinal}" selectListener="# {desctoHorasNoLaboradasEdit.handleFechaFinal}" onSelectUpdate="principalForm:txtDias"/>
                </td>
            </tr>            
            <tr>
                <td width="12%" >
                    <h:outputLabel value="Dias" />
                </td>
                <td>
                    <p:inputText id="txtDias" value="# {desctoHorasNoLaboradasEdit.dias}" style="width: 25px;" />
                </td>
                <td/>
                <td width="12%" >
                    <h:outputLabel value="Horas"/>
                </td>
                <td>
                    <p:inputText id="txtHoras" value="# {desctoHorasNoLaboradasEdit.horas}" maxlength="5" style="width: 25px;" />
                </td>
            </tr>
            <tr>
                <td width="10%" >
                    <h:outputLabel value="Valor del Descuento" />
                </td>
                <td>
                    <p:inputText id="txtDescuento" value="# {desctoHorasNoLaboradasEdit}" />
                </td>
                <td colspan="3" />
            </tr-->
            <tr>                   
                <td>
                    <i:etiquetaRequerido value="Tipo Planilla" styleClass="requerido" />
                </td>
                <td>                
                    <h:selectOneMenu id="lstTipoPlanilla" style="height: 25px; padding-top: 3px; width: 250px;" disabled="#{!request.isUserInRole('rrhh')}" label="Tipo Planilla" value="#{desctoHorasNoLaboradasEdit.tipoPlanilla}" >                       
                        <f:ajax render="lstPlanilla" event="change" execute="lstTipoPlanilla" />
                        <f:selectItem itemValue="-1" itemLabel="[SELECCIONE TIPO PLANILLA]" />
                        <f:selectItems value="#{desctoHorasNoLaboradasEdit.listaTipos}" var="tipo" itemValue="#{tipo.tiposPlanillaPK.codTipopla}" itemLabel="#{tipo.nomTipopla}"/>
                    </h:selectOneMenu>
                </td>
                <td/>
                <td width="12%" >
                    <i:etiquetaRequerido value="Planilla" styleClass="requerido" />
                </td>
                <td>
                    <h:selectOneMenu id="lstPlanilla" style="height: 25px;padding-top: 3px;width: 250px;" disabled="#{!request.isUserInRole('rrhh')}" label="Planilla" value="#{desctoHorasNoLaboradasEdit.planilla}" >
                        <f:selectItem itemValue="-1" itemLabel="[SELECCIONE PLANILLA]" />
                        <f:selectItems value="#{desctoHorasNoLaboradasEdit.listaPlanillas}" var="pla" itemValue="#{pla.pkAsString}" itemLabel="#{pla.anio} ------ #{pla.mes} ------ #{pla.numPlanilla}"/>
                    </h:selectOneMenu>
                </td>
            </tr>                        
            <tr>
                <td colspan="4" />
                <td>
                    <i:etiquetaPlanilla />
                </td>
            </tr>
            <tr>
                <td width="20%">
                    <i:etiquetaRequerido value="Fecha inicial" styleClass="requerido"/>
                </td>
                <td>
                    <p:calendar id="spFecInicial2" showOn="button" pattern="dd/MM/yyyy" value="#{desctoHorasNoLaboradasEdit.fechaInicial}" selectListener="#{desctoHorasNoLaboradasEdit.handleFechaInicial}" onSelectUpdate="txtDias2"/>
                </td>
                <td/>
                <td width="20%">
                    <i:etiquetaRequerido value="Fecha final" styleClass="requerido"/>
                </td>
                <td>
                    <p:calendar id="spFecFinal2" showOn="button" pattern="dd/MM/yyyy" value="#{desctoHorasNoLaboradasEdit.fechaFinal}" selectListener="#{desctoHorasNoLaboradasEdit.handleFechaFinal}" onSelectUpdate="txtDias2"/>
                </td>
            </tr>
            <tr>
                <td>
                    <h:outputLabel value="Dias" style="font-weight: bold;" />
                </td>
                <td>
                    <p:inputText id="txtDias2"  value="#{desctoHorasNoLaboradasEdit.dias}" style="width: 25px;" />
                </td>
                <td colspan="3"/>
            </tr>
            <tr>
                <td>
                    <i:etiquetaRequerido value="Sencillas diurnas" styleClass="requerido"/>
                </td>
                <td>
                    <p:inputText value="#{desctoHorasNoLaboradasEdit.diurnasSencillas}"/>
                </td>
                <td/>
                <td>
                    <i:etiquetaRequerido value="Extras diurnas" styleClass="requerido"/>
                </td>
                <td>
                    <p:inputText value="#{desctoHorasNoLaboradasEdit.diurnasExtras}"/>
                </td>                                                
            </tr>
            <tr>  
                <td>
                    <i:etiquetaRequerido value="Nocturnas" styleClass="requerido"/>
                </td>
                <td>
                    <p:inputText value="#{desctoHorasNoLaboradasEdit.nocturnasSencillas}"/>
                </td>
                <td/>
                <td>
                    <i:etiquetaRequerido value="Extras nocturnas" styleClass="requerido"/>
                </td>
                <td>
                    <p:inputText value="#{desctoHorasNoLaboradasEdit.nocturnasExtras}"/>
                </td>
            </tr>            
            <tr>
                <td valign="top">
                    <h:outputLabel value="Observaci&oacute;n" />
                </td>
                <td colspan="3">
                    <p:inputTextarea id="txtobservacionesSP" style="width:100%;" value="#{desctoHorasNoLaboradasEdit.observacion}" autoResize="false" />
                </td>
            </tr>
            <tr>
                <td></td>
                <td colspan="4" >
                    <p:commandButton image="ui-icon-disk" value="Guardar cambios" action="#{desctoHorasNoLaboradasEdit.guardarCambios}" update="principalForm:mensajes"/>
                </td>
            </tr>
        </table>
    </ui:define>
</ui:composition>